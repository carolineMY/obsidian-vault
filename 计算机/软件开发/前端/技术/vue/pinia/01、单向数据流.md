
## 什么是单向数据流？

单向数据流（Unidirectional Data Flow）是一种数据管理模式，其中数据沿着一个方向流动：

1. **状态（State）**存储在集中的地方（如 Pinia store）
2. **视图（View）**从状态派生并显示数据
3. **动作（Actions）**是改变状态的唯一途径

```js
	数据流动方向：**Action → State → View**，形成一个单向循环。
```

## Pinia 中的单向数据流体现

在 Pinia 中：

1. **状态**：通过 `state()` 定义
2. **动作**：通过 `actions` 定义修改状态的方法
3. **视图**：组件通过 `useStore()` 获取状态

组件不能直接修改状态，必须通过调用 store 的 action 来间接修改。

## 示例

```javascript
// store.js
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({ count: 0 }),
  actions: {
    increment() {
      this.count++ // 只能通过action修改状态
    }
  }
})
```

```vue
<!-- 组件中 -->
<script setup>
import { useCounterStore } from './store'

const counter = useCounterStore()
</script>

<template>
  <!-- 视图显示状态 -->
  <div>{{ counter.count }}</div>
  <!-- 通过action修改状态 -->
  <button @click="counter.increment()">Increment</button>
</template>
```

## 为什么使用单向数据流？

1. **可预测性**：状态变化来源明确
2. **可维护性**：更容易追踪变化
3. **调试友好**：容易追踪状态变化历史

Pinia 通过这种模式帮助管理复杂应用的状态，同时保持了 Vue 的响应式特性。
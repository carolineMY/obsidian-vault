
// 时间格式化
export const formatDate = (cellValue: string | number | Date, pattern?: string) => {
	if (!cellValue) {
	  return ''
	}
	const date = getCommonDate(cellValue)
	const year = date.getFullYear()
	const month = date.getMonth() + 1 < 10 ? "0" + (date.getMonth() + 1) : date.getMonth() + 1;
	const day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate()
	const hours = date.getHours() < 10 ? "0" + date.getHours() : date.getHours();
	const minutes =  date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes();
	const seconds = date.getSeconds() < 10 ? "0" + date.getSeconds() : date.getSeconds();
	const format = pattern || 'yyyy-MM-dd hh:mm:ss'
	const formatObj = {
	  yyyy: year,
	  MM: month,
	  dd: day,
	  hh: hours,
	  mm: minutes,
	  ss: seconds
	}
	const str = format.replace(/(yyyy|MM|dd|hh|mm|ss)/g, (match: string) => {
	  const value = formatObj[match]
	  return value || 0
	})
	return str
  }


/**
 * @description 格式化时间--转为date
 * @param {String} value 传入的时间
 * @returns string
 */
export const getCommonDate = (value: string | number | Date): Date => {
	// safary浏览器里的new Date(参数时间格式只支持"/"分割)，故而此处转一下
	if (typeof value === 'string') {
	  value = value.replace(/[^\d: ]/g, '/')
	}
	const date = value == '' ? new Date() : new Date(value)
	return date
  }